{"version":3,"sources":["CharacterDisplay.js","Dialogue.js","Buttons.js","VNovel.js","App.js","index.js"],"names":["CharacterDisplay","props","width","height","href","bg","portrait","x","y","Dialogue","className","charname","onClick","advance","diatext","savepos","loadpos","back","Vnovel","useState","pos","setPos","dialog","setDialog","loading","setLoading","typedLength","setTyped","imgData","typeDigit","length","forEach","src","index","img","Image","useEffect","fetch","then","result","json","data","interval","setInterval","clearInterval","substring","name","console","log","endType","localStorage","setItem","toString","Number","getItem","App","rootElement","document","getElementById","createRoot","render"],"mappings":"6LAEe,SAASA,EAAiBC,GACvC,OACE,8BACE,sBAAKC,MAAM,MAAMC,OAAO,MAAK,UAE3B,sBAAMD,MAAM,MAAMC,OAAO,QACzB,uBAAOC,KAAMH,EAAMI,GAAIH,MAAM,QAC7B,uBAAOE,KAAMH,EAAMK,SAAUJ,MAAM,MAAMK,EAAE,MAAMC,EAAE,WAI3D,CCXe,SAASC,EAASR,GAC/B,OACE,sBAAKS,UAAU,aAAY,UACzB,qBAAKA,UAAU,gBAAe,SAAET,EAAMU,WACtC,qBACED,UAAU,aAEVE,QAAS,WACPX,EAAMY,SACR,EAAE,SAEDZ,EAAMa,YAIf,CCfe,SAASL,EAASR,GAC/B,OACE,gCACE,wBACEW,QAAS,WACPX,EAAMc,SACR,EAAE,kBAIJ,wBACEH,QAAS,WACPX,EAAMe,SACR,EAAE,kBAIJ,wBACEJ,QAAS,WACPX,EAAMgB,MACR,EAAE,oBAMV,CClBe,SAASC,IACtB,MAAsBC,mBAAS,GAAE,mBAA1BC,EAAG,KAAEC,EAAM,KAClB,EAA4BF,mBAAS,CAAC,GAAE,mBAAjCG,EAAM,KAAEC,EAAS,KAExB,EAA8BJ,oBAAS,GAAK,mBAArCK,EAAO,KAAEC,EAAU,KAC1B,EAAgCN,mBAAS,GAAE,mBAApCO,EAAW,KAAEC,EAAQ,KAiBxBC,EAAU,GAOd,SAASC,IACY,MAAfP,EAAOF,IACLM,EAAcJ,EAAOF,GAAKE,OAAOQ,QACnCH,EAASD,EAAc,EAG7B,CAqBA,GAjDmB,CACjB,wBACA,6BACA,yBACA,8BACA,2BACA,wCACA,qBACA,uBACA,4BACA,wBACA,6BACA,mBACA,sBAGSK,SAAQ,SAACC,EAAKC,GACvB,IAAIC,EAAM,IAAIC,MACdD,EAAIF,IAAMA,EACVJ,EAAQK,GAASC,CACnB,IAWAE,qBAAU,WAERC,MAAM,oBACHC,MAAK,SAACC,GAAM,OAAKA,EAAOC,MAAM,IAC9BF,MAAK,SAACG,GACLlB,EAAUkB,GACVhB,GAAW,EACb,IACF,IAAMiB,EAAWC,aAAY,WAC3Bd,GACF,GAAG,IACH,OAAO,WACLe,cAAcF,EAChB,CACF,GAAG,CAACb,KAIY,IAAZL,EACF,OACE,sBAAKd,UAAU,MAAK,UAClB,gDACA,cAACV,EAAgB,CAACM,SAAUgB,EAAOF,GAAKd,SAAUD,GAAIiB,EAAOF,GAAKf,KAClE,cAACI,EAAQ,CACPK,QAASQ,EAAOF,GAAKE,OAAOuB,UAAU,EAAGnB,GACzCf,SAAUW,EAAOF,GAAK0B,KACtBjC,QAaR,WACMa,GAAeJ,EAAOF,GAAKE,OAAOQ,QACpCiB,QAAQC,IAAI1B,EAAOQ,QAEfV,EAAME,EAAOQ,OAAS,GACxBT,EAAOD,EAAM,GAVjBO,EAAS,GACTE,KAaEoB,GAEJ,IAtBM,cAAC,EAAO,CAAChC,KAwBf,WACMG,EAAM,GACRC,EAAOD,EAAM,GAEf6B,GACF,EA7B2BlC,QA+B3B,WACEmC,aAAaC,QAAQ,YAAa/B,EAAIgC,WACxC,EAjC6CpC,QAmC7C,WACEK,EAAOgC,OAAOH,aAAaI,QAAQ,eACnCL,GACF,OAEA,SAASA,IACPtB,EAASL,EAAOF,GAAKE,OAAOQ,OAC9B,CACF,CCpHe,SAASyB,IACtB,OACE,qBAAK7C,UAAU,MAAK,SAClB,cAACQ,EAAM,KAGb,CCJA,IAAMsC,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAEnBI,OACH,cAAC,aAAU,UACT,cAACL,EAAG,M","file":"static/js/main.6a7bdb4d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function CharacterDisplay(props) {\r\n  return (\r\n    <div>\r\n      <svg width=\"500\" height=\"300\">\r\n        {/* Background fallback */}\r\n        <rect width=\"500\" height=\"300\" />\r\n        <image href={props.bg} width=\"500\" />\r\n        <image href={props.portrait} width=\"250\" x=\"125\" y=\"50\" />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Dialogue(props) {\r\n  return (\r\n    <div className=\"dialogBase\">\r\n      <div className=\"characterName\">{props.charname}</div>\r\n      <div\r\n        className=\"dialogText\"\r\n        // Advance the text whenever the dialog box is clicked on\r\n        onClick={() => {\r\n          props.advance();\r\n        }}\r\n      >\r\n        {props.diatext}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Dialogue(props) {\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => {\r\n          props.savepos();\r\n        }}\r\n      >\r\n        Save\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          props.loadpos();\r\n        }}\r\n      >\r\n        Load\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          props.back();\r\n        }}\r\n      >\r\n        Back\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport CharacterDisplay from \"./CharacterDisplay\";\r\nimport Dialogue from \"./Dialogue\";\r\nimport Buttons from \"./Buttons\";\r\n\r\n//To do:\r\n// - Add more story\r\n// - See if I can add a typewriter effect\r\n\r\nexport default function Vnovel() {\r\n  const [pos, setPos] = useState(0);\r\n  const [dialog, setDialog] = useState({});\r\n  //Add the super-important loading boolean; see below\r\n  const [loading, setLoading] = useState(true);\r\n  const [typedLength, setTyped] = useState(0);\r\n\r\n  const imgSources = [\r\n    \"images/bg/billEye.png\",\r\n    \"images/bg/billTooClose.png\",\r\n    \"images/bg/carolEye.png\",\r\n    \"images/bg/carolTooClose.png\",\r\n    \"images/bg/livingroom.jpg\",\r\n    \"images/bg/obligatorySpongebobJoke.png\",\r\n    \"images/bg/park.jpg\",\r\n    \"images/char/bill.png\",\r\n    \"images/char/billClose.png\",\r\n    \"images/char/carol.png\",\r\n    \"images/char/carolClose.png\",\r\n    \"images/black.png\",\r\n    \"images/nothing.png\"\r\n  ];\r\n  let imgData = [];\r\n  imgSources.forEach((src, index) => {\r\n    let img = new Image();\r\n    img.src = src;\r\n    imgData[index] = img;\r\n  });\r\n\r\n  function typeDigit() {\r\n    if (dialog[pos] != null) {\r\n      if (typedLength < dialog[pos].dialog.length) {\r\n        setTyped(typedLength + 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  //On page load\r\n  useEffect(() => {\r\n    //Get the dialog\r\n    fetch(\"data/dialog.json\")\r\n      .then((result) => result.json())\r\n      .then((data) => {\r\n        setDialog(data);\r\n        setLoading(false);\r\n      });\r\n    const interval = setInterval(() => {\r\n      typeDigit();\r\n    }, 20);\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [typeDigit]);\r\n\r\n  //Wait for the dialog data to load, then start showing the components\r\n  //Again, thanks to Four from StackOverflow\r\n  if (loading === false) {\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>Bill and Carol</h1>\r\n        <CharacterDisplay portrait={dialog[pos].portrait} bg={dialog[pos].bg} />\r\n        <Dialogue\r\n          diatext={dialog[pos].dialog.substring(0, typedLength)}\r\n          charname={dialog[pos].name}\r\n          advance={advance}\r\n        />\r\n        <Buttons back={back} savepos={savepos} loadpos={loadpos} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function typeOut() {\r\n    setTyped(0);\r\n    typeDigit();\r\n  }\r\n\r\n  // Advance by one dialog\r\n  function advance() {\r\n    if (typedLength >= dialog[pos].dialog.length) {\r\n      console.log(dialog.length);\r\n      //To avoid advancing past the last dialog\r\n      if (pos < dialog.length - 1) {\r\n        setPos(pos + 1);\r\n      }\r\n      typeOut();\r\n    } else {\r\n      endType();\r\n    }\r\n  }\r\n  // Go back by one dialog\r\n  function back() {\r\n    if (pos > 0) {\r\n      setPos(pos - 1);\r\n    }\r\n    endType();\r\n  }\r\n  // Save your current position to local storage for later\r\n  function savepos() {\r\n    localStorage.setItem(\"savepoint\", pos.toString());\r\n  }\r\n  // Load the position you saved in local storage and go to it\r\n  function loadpos() {\r\n    setPos(Number(localStorage.getItem(\"savepoint\")));\r\n    endType();\r\n  }\r\n\r\n  function endType() {\r\n    setTyped(dialog[pos].dialog.length);\r\n  }\r\n}\r\n","import \"./styles.css\";\nimport Vnovel from \"./VNovel\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Vnovel />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}